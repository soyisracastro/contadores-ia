---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import FeaturesSection from '../components/sections/FeaturesSection.astro';
import PostsSection from '../components/sections/PostsSection.astro';
import CTASection from '../components/sections/CTASection.astro';
import { getCollection } from 'astro:content';

// Obtener los posts más recientes
const allPosts = await getCollection('blog');
const recentPosts = allPosts
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
  .slice(0, 3);

// Datos para las secciones
const heroButtons = [
  { text: 'Explorar Contenido', href: '/blog', variant: 'primary' as const },
  { text: 'Acceso Premium', href: '/login', variant: 'secondary' as const }
];

const features = [
  {
    icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
    title: 'Tutoriales Prácticos',
    description: 'Aprende a usar herramientas de IA específicas para contadores'
  },
  {
    icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
    title: 'Casos Reales',
    description: 'Descubre cómo otros profesionales están usando IA en su trabajo'
  },
  {
    icon: 'M13 10V3L4 14h7v7l9-11h-7z',
    title: 'Trucos y Tips',
    description: 'Optimiza tu flujo de trabajo con trucos de IA'
  }
];
---

<Layout title="Inicio" description="Aprende a usar IA en contaduría pública en México">
  <!-- Hero Section -->
  <HeroSection
    title="Contadores IA"
    subtitle="Domina la Inteligencia Artificial para la Contaduría Pública en México"
    buttons={heroButtons}
  />

  <!-- Features Section -->
  <FeaturesSection
    title="¿Qué Aprenderás?"
    features={features}
  />

  <!-- Recent Posts Section -->
  <PostsSection
    title="Últimas Publicaciones"
    posts={recentPosts}
    viewAllHref="/blog"
  />

  <!-- CTA Section -->
  <CTASection
    title="¿Listo para transformar tu práctica profesional?"
    subtitle="Únete y accede a contenido exclusivo para miembros premium"
    buttonText="Crear Cuenta Premium"
    buttonHref="/login"
  />
</Layout>
