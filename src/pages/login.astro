---
import Layout from '../layouts/Layout.astro';
import FormContainer from '../components/forms/FormContainer.astro';
import LoginForm from '../components/forms/LoginForm.astro';
import { getUser } from '../lib/auth';

// Si el usuario ya está autenticado, redirigir
const user = await getUser(Astro.cookies);
if (user) {
  return Astro.redirect('/');
}
---

<Layout
  title="Iniciar Sesión"
  description="Accede a tu cuenta de Contadores IA"
>
  <div class="login-page">
    <FormContainer
      title="Contadores IA"
      subtitle="Accede a contenido exclusivo"
    >
      <LoginForm />
    </FormContainer>
  </div>
</Layout>

<style>
  .login-page {
    min-height: calc(100vh - 4rem);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 1rem;
  }
</style>
